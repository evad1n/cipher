(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(3176)}])},3176:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return p}});var n=i(5893),s=i(7294),r=i(1298),a=i(5538),o=i(7250),h=i(1950);class l{get context(){let t=this.canvas.getContext("2d");return t?(t.strokeStyle="black",t.lineWidth=3,t):null}get midpoint(){return new o.E(this.canvas.width/2,this.canvas.height/2)}clear(){var t;null===(t=this.context)||void 0===t||t.clearRect(0,0,this.canvas.width,this.canvas.height)}update(t){if(this.word!==t){if(Math.abs(this.word.length-t.length)>=2){this.options.animationsEnabled?(this.currentAnimationId&&window.cancelAnimationFrame(this.currentAnimationId),this.startUpdateTime=new Date,this.clear(),this.prevWord="",this.word=t,this.updateAnimation({baseWord:"",animatedPart:t})):(this.clear(),this.prevWord="",this.word=t,this.draw(t));return}if(this.options.animationsEnabled){let e,i;this.currentAnimationId&&window.cancelAnimationFrame(this.currentAnimationId),this.startUpdateTime=new Date,this.clear();let n=!1;t.length>this.word.length?(e=this.word,i=t[t.length-1]):(e=t,i=this.word[this.word.length-1],n=!0),this.prevWord=this.word,this.word=t,this.updateAnimation({baseWord:e,animatedPart:i,reverse:n})}else this.clear(),this.prevWord=this.word,this.word=t,this.draw(t)}}updateAnimation(t){var e,i;if(!this.startUpdateTime)return;let{baseWord:n,animatedPart:s,reverse:r=!1}=t,a=(0,h.Li)(this.startUpdateTime)/1e3;if(a>=1){this.startUpdateTime=null,this.clear(),this.draw(n,!1),null===(i=this.currentAnimationGroup)||void 0===i||i.update(1),this.currentAnimationGroup=null;return}this.clear();let o=this.draw(n,!1);this.draw_ANIMATED(n,o,s,r);let l=(0,h.t7)(0,1,a);null===(e=this.currentAnimationGroup)||void 0===e||e.update(l),this.currentAnimationId=window.requestAnimationFrame(()=>this.updateAnimation(t))}drawArc_ANIMATED(t){let{ctx:e,radius:i,startAngle:n,endAngle:s,reverse:r}=t,[a,o]=this.midpoint.tuple;return{update:t=>{let l=(0,h.t7)(n,s,r?1-t:t);e.beginPath(),e.arc(a,o,i,n,l),e.stroke()},weight:(0,h.Pl)(i,Math.abs(s-n))}}connectArc(t){let{ctx:e,angle:i,startRadius:n,endRadius:s}=t,[r,a]=this.midpoint.tuple,[o,l]=(0,h.F8)(r,a,i,n).tuple,[u,d]=(0,h.F8)(r,a,i,s).tuple;e.beginPath(),e.moveTo(o,l),e.lineTo(u,d),e.stroke()}connectArc_ANIMATED(t){let{ctx:e,angle:i,startRadius:n,endRadius:s,reverse:r=!1}=t,[a,o]=this.midpoint.tuple,l=(0,h.F8)(a,o,i,n),u=(0,h.F8)(a,o,i,s);return{update:t=>{let i=r?1-t:t,n=(0,h.t7)(l.x,u.x,i),s=(0,h.t7)(l.y,u.y,i);e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(n,s),e.stroke()},weight:l.distanceTo(u)}}draw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.word,e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this.context;if(!i||0===t.length)return r.R.DegreesToRadians(-90);let n=(0,h.eY)(t),[s,a]=this.midpoint.tuple,o=26!==(0,h.an)(t[0]),l=r.R.DegreesToRadians(-90);o&&(i.beginPath(),i.arc(s,a,this.options.radius-this.options.gap,0,360),i.stroke(),this.connectArc({ctx:i,angle:l,startRadius:this.options.radius-this.options.gap,endRadius:this.options.radius}));for(let t=0;t<n.length;t++){let e=n[t],r=e+l,o=this.options.radius+this.options.gap*t;i.beginPath(),i.arc(s,a,this.options.radius+this.options.gap*t,l,r),i.stroke(),l=r,t<n.length-1&&this.connectArc({ctx:i,angle:l,startRadius:o,endRadius:o+this.options.gap})}return e&&this.connectArc({ctx:i,angle:l,startRadius:this.options.radius+this.options.gap*(n.length-1),endRadius:this.getLastIntersectionRadius(t)}),l}draw_ANIMATED(t,e,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3];let n=this.context;if(!n||0===i.length)return;let s=[],o=(0,h.eY)(i),[l,u]=this.midpoint.tuple,d=26!==(0,h.an)(i[0])&&0===t.length,c=e;if(d){let t=this.options.radius-this.options.gap;s.push({update:e=>{let i=(0,h.t7)(0,r.R.DegreesToRadians(360),e);n.beginPath(),n.arc(l,u,t,0,i),n.stroke()},weight:(0,h.Pl)(t,r.R.DegreesToRadians(360))}),s.push(this.connectArc_ANIMATED({ctx:n,angle:c,startRadius:t,endRadius:this.options.radius}))}let p=this.options.radius+this.options.gap*(t.length-1);if(t.length){let e=this.getLastIntersectionRadius(t);s.push(this.connectArc_ANIMATED({ctx:n,angle:c,startRadius:p,endRadius:e,reverse:!0})),s.push(this.connectArc_ANIMATED({ctx:n,angle:c,startRadius:p,endRadius:p+this.options.gap}))}for(let e=0;e<o.length;e++){let i=o[e],r=c,a=r+i;c=a;let h=e+t.length,l=this.options.radius+this.options.gap*h;s.push(this.drawArc_ANIMATED({ctx:n,radius:l,startAngle:r,endAngle:a})),e<o.length-1&&s.push(this.connectArc_ANIMATED({ctx:n,angle:a,startRadius:l,endRadius:l+this.options.gap}))}let g=this.options.radius+this.options.gap*(t.length+o.length-1),m=this.getLastIntersectionRadius(t+i);s.push(this.connectArc_ANIMATED({ctx:n,angle:c,startRadius:g,endRadius:m})),this.currentAnimationGroup=new a.O(s,this.options.animationType)}getLastIntersectionRadius(t){let e=0;for(let i=t.length-1;i>=0;i--){let n=t[i];if((e+=(0,h.GO)({char:n,degrees:!0}))>=360)return this.options.radius+this.options.gap*i}return this.options.radius-this.options.gap}constructor({canvas:t,options:e}){this.canvas=t,this.word="",this.prevWord="",this.startUpdateTime=null,this.currentAnimationId=null,this.currentAnimationGroup=null,this.options={animationsEnabled:!0,radius:50,gap:20,animationType:"lerp",...e}}}class u{updateOptions(t){this.options={...this.options,...t},this.updateHard()}get parent(){return document.getElementById(this.id)}pop(){let t=this.children.pop();null==t||t.container.remove()}clear(){for(;this.children.length;)this.pop()}updateHard(){let t=this.children.map(t=>t.cipher.word);this.clear(),this.update(t)}update(t){for(;this.children.length>t.length;)this.pop();for(let i=0;i<t.length;i++){let n=t[i];if(i>=this.children.length){var e;let t=document.createElement("div");t.classList.add("cipher-symbol");let i=document.createElement("canvas");i.width=400,i.height=400,t.appendChild(i);let s=new l({word:n,canvas:i,options:this.options});this.children.push({container:t,cipher:s}),null===(e=this.parent)||void 0===e||e.appendChild(t)}let s=this.children[i].cipher;s.update(n)}}constructor({id:t,options:e}){this.id=t,this.children=[],this.options={animationsEnabled:!0,radius:50,gap:20,animationType:"lerp",...e}}}let d="cipher-parent",c=()=>{let[t,e]=(0,s.useState)(""),[i,r]=(0,s.useState)(!0),a=(0,s.useRef)(new u({id:d,options:{animationsEnabled:i}})),o=t.split(" ");return(0,s.useEffect)(()=>{a.current.update(o)},[o]),(0,s.useEffect)(()=>{a.current.updateOptions({animationsEnabled:i})},[i]),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{value:t,onChange:t=>e(t.target.value),rows:5,style:{width:"100%"}}),(0,n.jsxs)("div",{className:"translator-controls",children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:i,onChange:()=>r(!i)}),"Animations enabled"]}),(0,n.jsxs)("div",{className:"radio-input",children:["Animation type",(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"animation-type",value:"lerp"}),"Linear"]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"animation-type",value:"slerp"}),"Ease-out-in"]})]})]}),(0,n.jsx)("div",{id:d,className:"cipher-stream"})]})};function p(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"T____X____T"}),(0,n.jsx)(c,{})]})}},1298:function(t,e,i){"use strict";i.d(e,{R:function(){return n}});class n{get degrees(){return this.value}get radians(){return n.DegreesToRadians(this.value)}static RadiansToDegrees(t){return 180*t/Math.PI}static DegreesToRadians(t){return t*(Math.PI/180)}constructor(t,e="DEGREES"){"DEGREES"===e?this.value=t:this.value=n.RadiansToDegrees(t)}}},5538:function(t,e,i){"use strict";i.d(e,{O:function(){return r}});var n=i(1950);let s={lerp:n.t7,slerp:n.ZA};class r{update(t){var e;if(0===this.parts.length)return;let i=function(t,e){let i=0,n=t.length-1;for(;i<=n;){let s=i+n>>1,r=e(t[s]);if(r>0)i=s+1;else{if(!(r<0))return s;n=s-1}}return -1}(this.parts,e=>e.start<=t&&e.end>=t?0:t-e.start);for(let t=0;t<i;t++)this.parts[t].update(1);let n=this.parts[i],s=(t-(e=n.start))/(n.end-e);n.update(s);for(let t=i+1;t<this.parts.length;t++)this.parts[t].update(0)}constructor(t,e){let i=t.reduce((t,e)=>t+e.weight,0),n=s[e],r=0;this.parts=t.map(t=>{let e=n(0,1,r/i),s=n(0,1,(r+t.weight)/i);return r+=t.weight,{...t,start:e,end:s}})}}},7250:function(t,e,i){"use strict";i.d(e,{E:function(){return n}});class n{get tuple(){return[this.x,this.y]}distanceTo(t){return Math.sqrt((t.x-this.x)**2+(t.y-this.y)**2)}constructor(t,e){this.x=t,this.y=e}}},1950:function(t,e,i){"use strict";i.d(e,{F8:function(){return c},GO:function(){return a},Li:function(){return h},Pl:function(){return p},ZA:function(){return d},an:function(){return r},eY:function(){return o},t7:function(){return l}});var n=i(1298),s=i(7250);let r=t=>t.toLowerCase().charCodeAt(0)-96,a=t=>{let{char:e,degrees:i=!1}=t,s=r(e);return i?360*s/26:n.R.DegreesToRadians(360*s/26)},o=t=>[...t.toLowerCase()].map(t=>a({char:t})),h=t=>{let e=new Date;return e.getTime()-t.getTime()},l=(t,e,i)=>t+i*(e-t),u=(t,e,i)=>l(t,e,i*i),d=(t,e,i)=>{let n=(e+t)/2;return i<=.5?u(t,n,2*i):e+n-u(n,e,2*(1-i))},c=(t,e,i,r)=>{let a=i+n.R.DegreesToRadians(90);return new s.E(t+Math.sin(a)*r,e-Math.cos(a)*r)},p=(t,e)=>e/(2*Math.PI)*(2*t*Math.PI)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);