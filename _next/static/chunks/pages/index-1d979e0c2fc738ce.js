(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4284)}])},4284:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var i=n(5893),r=n(1298),s=n(5538),a=n(7250),u=n(1950);let o={animationsEnabled:!0,radius:50,gap:20,animationType:"lerp",animationDuration:1e3};class c{get context(){let t=this.canvas.getContext("2d");return t?(t.strokeStyle="black",t.lineWidth=3,t):null}get midpoint(){return new a.E(this.canvas.width/2,this.canvas.height/2)}clear(){var t;null===(t=this.context)||void 0===t||t.clearRect(0,0,this.canvas.width,this.canvas.height)}update(t){if(this.word!==t){if(Math.abs(this.word.length-t.length)>=2){this.options.animationsEnabled?(this.currentAnimationId&&window.cancelAnimationFrame(this.currentAnimationId),this.startUpdateTime=new Date,this.clear(),this.prevWord="",this.word=t,this.updateAnimation({baseWord:"",animatedPart:t})):(this.clear(),this.prevWord="",this.word=t,this.draw(t));return}if(this.options.animationsEnabled){let e,n;this.currentAnimationId&&window.cancelAnimationFrame(this.currentAnimationId),this.startUpdateTime=new Date,this.clear();let i=!1;t.length>this.word.length?(e=this.word,n=t[t.length-1]):(e=t,n=this.word[this.word.length-1],i=!0),this.prevWord=this.word,this.word=t,this.updateAnimation({baseWord:e,animatedPart:n,reverse:i})}else this.clear(),this.prevWord=this.word,this.word=t,this.draw(t)}}updateAnimation(t){var e,n;if(!this.startUpdateTime)return;let{baseWord:i,animatedPart:r,reverse:a=!1}=t,o=(0,u.Li)(this.startUpdateTime)/this.options.animationDuration;if(o>=1){this.startUpdateTime=null,this.clear(),this.draw(i,!1),null===(n=this.currentAnimationGroup)||void 0===n||n.update(a?0:1),this.currentAnimationGroup=null;return}this.clear();let c=this.draw(i,!1);this.draw_ANIMATED(i,c,r,a);let l=s.T[this.options.animationType](0,1,o);null===(e=this.currentAnimationGroup)||void 0===e||e.update(a?1-l:l),this.currentAnimationId=window.requestAnimationFrame(()=>this.updateAnimation(t))}drawArc_ANIMATED(t){let{ctx:e,radius:n,startAngle:i,endAngle:r,reverse:s}=t,[a,o]=this.midpoint.tuple;return{update:t=>{let c=(0,u.t7)(i,r,s?1-t:t);e.beginPath(),e.arc(a,o,n,i,c),e.stroke()},weight:(0,u.Pl)(n,Math.abs(r-i))}}connectArc(t){let{ctx:e,angle:n,startRadius:i,endRadius:r}=t,[s,a]=this.midpoint.tuple,[o,c]=(0,u.F8)(s,a,n,i).tuple,[l,h]=(0,u.F8)(s,a,n,r).tuple;e.beginPath(),e.moveTo(o,c),e.lineTo(l,h),e.stroke()}connectArc_ANIMATED(t){let{ctx:e,angle:n,startRadius:i,endRadius:r,reverse:s=!1}=t,[a,o]=this.midpoint.tuple,c=(0,u.F8)(a,o,n,i),l=(0,u.F8)(a,o,n,r);return{update:t=>{let n=s?1-t:t,i=(0,u.t7)(c.x,l.x,n),r=(0,u.t7)(c.y,l.y,n);e.beginPath(),e.moveTo(c.x,c.y),e.lineTo(i,r),e.stroke()},weight:c.distanceTo(l)}}draw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.word,e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=this.context;if(!n||0===t.length)return r.R.DegreesToRadians(-90);let i=(0,u.eY)(t),[s,a]=this.midpoint.tuple,o=26!==(0,u.an)(t[0]),c=r.R.DegreesToRadians(-90);o&&(n.beginPath(),n.arc(s,a,this.options.radius-this.options.gap,0,360),n.stroke(),this.connectArc({ctx:n,angle:c,startRadius:this.options.radius-this.options.gap,endRadius:this.options.radius}));for(let t=0;t<i.length;t++){let e=i[t],r=e+c,u=this.options.radius+this.options.gap*t;n.beginPath(),n.arc(s,a,this.options.radius+this.options.gap*t,c,r),n.stroke(),c=r,t<i.length-1&&this.connectArc({ctx:n,angle:c,startRadius:u,endRadius:u+this.options.gap})}return e&&this.connectArc({ctx:n,angle:c,startRadius:this.options.radius+this.options.gap*(i.length-1),endRadius:this.getLastIntersectionRadius(t)}),c}draw_ANIMATED(t,e,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];let i=this.context;if(!i||0===n.length)return;let a=[],o=(0,u.eY)(n),c=26!==(0,u.an)(n[0])&&0===t.length,l=e;if(c){let t=this.options.radius-this.options.gap;this.drawArc_ANIMATED({ctx:i,radius:t,startAngle:0,endAngle:r.R.DegreesToRadians(360)}),a.push(this.connectArc_ANIMATED({ctx:i,angle:l,startRadius:t,endRadius:this.options.radius}))}let h=this.options.radius+this.options.gap*(t.length-1);if(t.length){let e=this.getLastIntersectionRadius(t);a.push(this.connectArc_ANIMATED({ctx:i,angle:l,startRadius:h,endRadius:e,reverse:!0})),a.push(this.connectArc_ANIMATED({ctx:i,angle:l,startRadius:h,endRadius:h+this.options.gap}))}for(let e=0;e<o.length;e++){let n=o[e],r=l,s=r+n;l=s;let u=e+t.length,c=this.options.radius+this.options.gap*u;a.push(this.drawArc_ANIMATED({ctx:i,radius:c,startAngle:r,endAngle:s})),e<o.length-1&&a.push(this.connectArc_ANIMATED({ctx:i,angle:s,startRadius:c,endRadius:c+this.options.gap}))}let d=this.options.radius+this.options.gap*(t.length+o.length-1),p=this.getLastIntersectionRadius(t+n);a.push(this.connectArc_ANIMATED({ctx:i,angle:l,startRadius:d,endRadius:p})),this.currentAnimationGroup=new s.O(a,this.options.animationType)}getLastIntersectionRadius(t){let e=0;for(let n=t.length-1;n>=0;n--){let i=t[n];if((e+=(0,u.GO)({char:i,degrees:!0}))>=360)return this.options.radius+this.options.gap*n}return this.options.radius-this.options.gap}constructor({canvas:t,options:e}){this.canvas=t,this.word="",this.prevWord="",this.startUpdateTime=null,this.currentAnimationId=null,this.currentAnimationGroup=null,this.options={...o,...e}}}var l=n(7294);let h={canvasSize:400,individualOptions:o};class d{updateOptions(t){this.options={...this.options,...t,individualOptions:{...this.options.individualOptions,...t.individualOptions}},this.updateHard()}get parent(){return document.getElementById(this.id)}pop(){let t=this.children.pop();null==t||t.container.remove()}clear(){for(;this.children.length;)this.pop()}updateHard(){let t=this.children.map(t=>t.cipher.word);this.clear(),this.update(t)}update(t){for(;this.children.length>t.length;)this.pop();for(let n=0;n<t.length;n++){let i=t[n];if(n>=this.children.length){var e;let t=document.createElement("div");t.classList.add("cipher-symbol");let n=document.createElement("canvas");n.width=this.options.canvasSize,n.height=this.options.canvasSize,t.appendChild(n);let r=new c({word:i,canvas:n,options:this.options.individualOptions});this.children.push({container:t,cipher:r}),null===(e=this.parent)||void 0===e||e.appendChild(t)}let r=this.children[n].cipher;r.update(i)}}constructor({id:t,options:e}){this.id=t,this.children=[],this.options={...h,...e,individualOptions:{...h.individualOptions,...e.individualOptions}}}}function p(t,e){return t===e}function g(t){return"function"==typeof t?function(){return t}:t}let f="cipher-parent",m=()=>{var t,e,n,r,s,a,u,c,m;let[v,A]=(0,l.useState)(""),[w,x]=(0,l.useState)(h.canvasSize),[R,T]=(0,l.useState)(o.animationsEnabled),[E,y]=(0,l.useState)(o.animationType),[D,_]=(0,l.useState)(o.radius),[I,j]=(0,l.useState)(o.gap),[b,M]=(0,l.useState)(o.animationDuration),C=(0,l.useMemo)(()=>({canvasSize:w,individualOptions:{animationsEnabled:R,animationType:E,gap:I,radius:D,animationDuration:b}}),[w,R,E,I,D,b]),[N]=(r=t&&t.equalityFn||p,a=(n=(e=(0,l.useState)(g(C)))[1],s=[e[0],(0,l.useCallback)(function(t){return n(g(t))},[])])[0],u=s[1],c=function(t,e,n){var i=this,r=(0,l.useRef)(null),s=(0,l.useRef)(0),a=(0,l.useRef)(null),u=(0,l.useRef)([]),o=(0,l.useRef)(),c=(0,l.useRef)(),h=(0,l.useRef)(t),d=(0,l.useRef)(!0);(0,l.useEffect)(function(){h.current=t},[t]);var p=!e&&0!==e&&"undefined"!=typeof window;if("function"!=typeof t)throw TypeError("Expected a function");e=+e||0;var g=!!(n=n||{}).leading,f=!("trailing"in n)||!!n.trailing,m="maxWait"in n,v=m?Math.max(+n.maxWait||0,e):null;return(0,l.useEffect)(function(){return d.current=!0,function(){d.current=!1}},[]),(0,l.useMemo)(function(){var t=function(t){var e=u.current,n=o.current;return u.current=o.current=null,s.current=t,c.current=h.current.apply(n,e)},n=function(t,e){p&&cancelAnimationFrame(a.current),a.current=p?requestAnimationFrame(t):setTimeout(t,e)},l=function(t){if(!d.current)return!1;var n=t-r.current;return!r.current||n>=e||n<0||m&&t-s.current>=v},A=function(e){return a.current=null,f&&u.current?t(e):(u.current=o.current=null,c.current)},w=function t(){var i=Date.now();if(l(i))return A(i);if(d.current){var a=e-(i-r.current);n(t,m?Math.min(a,v-(i-s.current)):a)}},x=function(){var h=Date.now(),p=l(h);if(u.current=[].slice.call(arguments),o.current=i,r.current=h,p){if(!a.current&&d.current)return s.current=r.current,n(w,e),g?t(r.current):c.current;if(m)return n(w,e),t(r.current)}return a.current||n(w,e),c.current};return x.cancel=function(){a.current&&(p?cancelAnimationFrame(a.current):clearTimeout(a.current)),s.current=0,u.current=r.current=o.current=a.current=null},x.isPending=function(){return!!a.current},x.flush=function(){return a.current?A(Date.now()):c.current},x},[g,m,e,v,f,p])}((0,l.useCallback)(function(t){return u(t)},[u]),200,t),r((m=(0,l.useRef)(C)).current,C)||(c(C),m.current=C),[a,c]),k=(0,l.useRef)(new d({id:f,options:C})),O=v.split(" ");return(0,l.useEffect)(()=>{k.current.update(O)},[O]),(0,l.useEffect)(()=>{k.current.updateOptions(N)},[N]),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{value:v,onChange:t=>A(t.target.value),rows:5,style:{width:"100%"}}),(0,i.jsxs)("div",{className:"translator-controls",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Canvas size"}),(0,i.jsx)("input",{type:"range",name:"canvas-size",id:"canvas-size",value:w,onChange:t=>x(parseInt(t.target.value,10)),min:50,max:1e3})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Animations enabled"}),(0,i.jsx)("input",{type:"checkbox",checked:R,onChange:()=>T(!R)})]}),(0,i.jsxs)("div",{className:"radio-input",children:[(0,i.jsx)("span",{children:"Animation type"}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"animation-type",value:"lerp",checked:"lerp"===E,onChange:t=>y(t.target.value)}),"Linear"]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"animation-type",value:"slerp",checked:"slerp"===E,onChange:t=>y(t.target.value)}),"Ease-out-in"]})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Animation duration"}),(0,i.jsx)("input",{type:"range",value:b,onChange:t=>M(parseInt(t.target.value,10)),min:10,max:2e3})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Start radius"}),(0,i.jsx)("input",{type:"range",value:D,onChange:t=>_(parseInt(t.target.value,10)),min:1,max:100})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("span",{children:"Ring gap"}),(0,i.jsx)("input",{type:"range",value:I,onChange:t=>j(parseInt(t.target.value,10)),min:1,max:100})]})]}),(0,i.jsx)("div",{id:f,className:"cipher-stream"})]})};function v(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"T____X____T"}),(0,i.jsx)(m,{})]})}},1298:function(t,e,n){"use strict";n.d(e,{R:function(){return i}});class i{get degrees(){return this.value}get radians(){return i.DegreesToRadians(this.value)}static RadiansToDegrees(t){return 180*t/Math.PI}static DegreesToRadians(t){return t*(Math.PI/180)}constructor(t,e="DEGREES"){"DEGREES"===e?this.value=t:this.value=i.RadiansToDegrees(t)}}},5538:function(t,e,n){"use strict";n.d(e,{O:function(){return s},T:function(){return r}});var i=n(1950);let r={lerp:i.t7,slerp:i.ZA};class s{update(t){var e;if(0===this.parts.length)return;let n=function(t,e){let n=0,i=t.length-1;for(;n<=i;){let r=n+i>>1,s=e(t[r]);if(s>0)n=r+1;else{if(!(s<0))return r;i=r-1}}return -1}(this.parts,e=>e.start<=t&&e.end>=t?0:t-e.start);for(let t=0;t<n;t++)this.parts[t].update(1);let i=this.parts[n],r=(t-(e=i.start))/(i.end-e);i.update(r);for(let t=n+1;t<this.parts.length;t++)this.parts[t].update(0)}constructor(t,e){let n=t.reduce((t,e)=>t+e.weight,0),i=r[e],s=0;this.parts=t.map(t=>{let e=i(0,1,s/n),r=i(0,1,(s+t.weight)/n);return s+=t.weight,{...t,start:e,end:r}})}}},7250:function(t,e,n){"use strict";n.d(e,{E:function(){return i}});class i{get tuple(){return[this.x,this.y]}distanceTo(t){return Math.sqrt((t.x-this.x)**2+(t.y-this.y)**2)}constructor(t,e){this.x=t,this.y=e}}},1950:function(t,e,n){"use strict";n.d(e,{F8:function(){return d},GO:function(){return a},Li:function(){return o},Pl:function(){return p},ZA:function(){return h},an:function(){return s},eY:function(){return u},t7:function(){return c}});var i=n(1298),r=n(7250);let s=t=>t.toLowerCase().charCodeAt(0)-96,a=t=>{let{char:e,degrees:n=!1}=t,r=s(e);return n?360*r/26:i.R.DegreesToRadians(360*r/26)},u=t=>[...t.toLowerCase()].map(t=>a({char:t})),o=t=>{let e=new Date;return e.getTime()-t.getTime()},c=(t,e,n)=>t+n*(e-t),l=(t,e,n)=>c(t,e,n*n),h=(t,e,n)=>{let i=(e+t)/2;return n<=.5?l(t,i,2*n):e+i-l(i,e,2*(1-n))},d=(t,e,n,s)=>{let a=n+i.R.DegreesToRadians(90);return new r.E(t+Math.sin(a)*s,e-Math.cos(a)*s)},p=(t,e)=>e/(2*Math.PI)*(2*t*Math.PI)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);