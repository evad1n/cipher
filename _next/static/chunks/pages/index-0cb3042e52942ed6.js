(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(3176)}])},3176:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return m}});var n=i(5893),s=i(7294),a=i(1298),r=i(5538),o=i(7250),h=i(1950);let l={animationsEnabled:!0,radius:50,gap:20,animationType:"lerp",animationDuration:1e3};class d{get context(){let t=this.canvas.getContext("2d");return t?(t.strokeStyle="black",t.lineWidth=3,t):null}get midpoint(){return new o.E(this.canvas.width/2,this.canvas.height/2)}clear(){var t;null===(t=this.context)||void 0===t||t.clearRect(0,0,this.canvas.width,this.canvas.height)}update(t){if(this.word!==t){if(Math.abs(this.word.length-t.length)>=2){this.options.animationsEnabled?(this.currentAnimationId&&window.cancelAnimationFrame(this.currentAnimationId),this.startUpdateTime=new Date,this.clear(),this.prevWord="",this.word=t,this.updateAnimation({baseWord:"",animatedPart:t})):(this.clear(),this.prevWord="",this.word=t,this.draw(t));return}if(this.options.animationsEnabled){let e,i;this.currentAnimationId&&window.cancelAnimationFrame(this.currentAnimationId),this.startUpdateTime=new Date,this.clear();let n=!1;t.length>this.word.length?(e=this.word,i=t[t.length-1]):(e=t,i=this.word[this.word.length-1],n=!0),this.prevWord=this.word,this.word=t,this.updateAnimation({baseWord:e,animatedPart:i,reverse:n})}else this.clear(),this.prevWord=this.word,this.word=t,this.draw(t)}}updateAnimation(t){var e,i;if(!this.startUpdateTime)return;let{baseWord:n,animatedPart:s,reverse:a=!1}=t,o=(0,h.Li)(this.startUpdateTime)/this.options.animationDuration;if(o>=1){this.startUpdateTime=null,this.clear(),this.draw(n,!1),null===(i=this.currentAnimationGroup)||void 0===i||i.update(a?0:1),this.currentAnimationGroup=null;return}this.clear();let l=this.draw(n,!1);this.draw_ANIMATED(n,l,s,a);let d=r.T[this.options.animationType](0,1,o);null===(e=this.currentAnimationGroup)||void 0===e||e.update(a?1-d:d),this.currentAnimationId=window.requestAnimationFrame(()=>this.updateAnimation(t))}drawArc_ANIMATED(t){let{ctx:e,radius:i,startAngle:n,endAngle:s,reverse:a}=t,[r,o]=this.midpoint.tuple;return{update:t=>{let l=(0,h.t7)(n,s,a?1-t:t);e.beginPath(),e.arc(r,o,i,n,l),e.stroke()},weight:(0,h.Pl)(i,Math.abs(s-n))}}connectArc(t){let{ctx:e,angle:i,startRadius:n,endRadius:s}=t,[a,r]=this.midpoint.tuple,[o,l]=(0,h.F8)(a,r,i,n).tuple,[d,u]=(0,h.F8)(a,r,i,s).tuple;e.beginPath(),e.moveTo(o,l),e.lineTo(d,u),e.stroke()}connectArc_ANIMATED(t){let{ctx:e,angle:i,startRadius:n,endRadius:s,reverse:a=!1}=t,[r,o]=this.midpoint.tuple,l=(0,h.F8)(r,o,i,n),d=(0,h.F8)(r,o,i,s);return{update:t=>{let i=a?1-t:t,n=(0,h.t7)(l.x,d.x,i),s=(0,h.t7)(l.y,d.y,i);e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(n,s),e.stroke()},weight:l.distanceTo(d)}}draw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.word,e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this.context;if(!i||0===t.length)return a.R.DegreesToRadians(-90);let n=(0,h.eY)(t),[s,r]=this.midpoint.tuple,o=26!==(0,h.an)(t[0]),l=a.R.DegreesToRadians(-90);o&&(i.beginPath(),i.arc(s,r,this.options.radius-this.options.gap,0,360),i.stroke(),this.connectArc({ctx:i,angle:l,startRadius:this.options.radius-this.options.gap,endRadius:this.options.radius}));for(let t=0;t<n.length;t++){let e=n[t],a=e+l,o=this.options.radius+this.options.gap*t;i.beginPath(),i.arc(s,r,this.options.radius+this.options.gap*t,l,a),i.stroke(),l=a,t<n.length-1&&this.connectArc({ctx:i,angle:l,startRadius:o,endRadius:o+this.options.gap})}return e&&this.connectArc({ctx:i,angle:l,startRadius:this.options.radius+this.options.gap*(n.length-1),endRadius:this.getLastIntersectionRadius(t)}),l}draw_ANIMATED(t,e,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3];let n=this.context;if(!n||0===i.length)return;let s=[],o=(0,h.eY)(i),l=26!==(0,h.an)(i[0])&&0===t.length,d=e;if(l){let t=this.options.radius-this.options.gap;this.drawArc_ANIMATED({ctx:n,radius:t,startAngle:0,endAngle:a.R.DegreesToRadians(360)}),s.push(this.connectArc_ANIMATED({ctx:n,angle:d,startRadius:t,endRadius:this.options.radius}))}let u=this.options.radius+this.options.gap*(t.length-1);if(t.length){let e=this.getLastIntersectionRadius(t);s.push(this.connectArc_ANIMATED({ctx:n,angle:d,startRadius:u,endRadius:e,reverse:!0})),s.push(this.connectArc_ANIMATED({ctx:n,angle:d,startRadius:u,endRadius:u+this.options.gap}))}for(let e=0;e<o.length;e++){let i=o[e],a=d,r=a+i;d=r;let h=e+t.length,l=this.options.radius+this.options.gap*h;s.push(this.drawArc_ANIMATED({ctx:n,radius:l,startAngle:a,endAngle:r})),e<o.length-1&&s.push(this.connectArc_ANIMATED({ctx:n,angle:r,startRadius:l,endRadius:l+this.options.gap}))}let p=this.options.radius+this.options.gap*(t.length+o.length-1),c=this.getLastIntersectionRadius(t+i);s.push(this.connectArc_ANIMATED({ctx:n,angle:d,startRadius:p,endRadius:c})),this.currentAnimationGroup=new r.O(s,this.options.animationType)}getLastIntersectionRadius(t){let e=0;for(let i=t.length-1;i>=0;i--){let n=t[i];if((e+=(0,h.GO)({char:n,degrees:!0}))>=360)return this.options.radius+this.options.gap*i}return this.options.radius-this.options.gap}constructor({canvas:t,options:e}){this.canvas=t,this.word="",this.prevWord="",this.startUpdateTime=null,this.currentAnimationId=null,this.currentAnimationGroup=null,this.options={...l,...e}}}let u={canvasSize:400,individualOptions:l};class p{updateOptions(t){this.options={...this.options,...t,individualOptions:{...this.options.individualOptions,...t.individualOptions}},this.updateHard()}get parent(){return document.getElementById(this.id)}pop(){let t=this.children.pop();null==t||t.container.remove()}clear(){for(;this.children.length;)this.pop()}updateHard(){let t=this.children.map(t=>t.cipher.word);this.clear(),this.update(t)}update(t){for(;this.children.length>t.length;)this.pop();for(let i=0;i<t.length;i++){let n=t[i];if(i>=this.children.length){var e;let t=document.createElement("div");t.classList.add("cipher-symbol");let i=document.createElement("canvas");i.width=this.options.canvasSize,i.height=this.options.canvasSize,t.appendChild(i);let s=new d({word:n,canvas:i,options:this.options.individualOptions});this.children.push({container:t,cipher:s}),null===(e=this.parent)||void 0===e||e.appendChild(t)}let s=this.children[i].cipher;s.update(n)}}constructor({id:t,options:e}){this.id=t,this.children=[],this.options={...u,...e,individualOptions:{...u.individualOptions,...e.individualOptions}}}}let c="cipher-parent",g=()=>{let[t,e]=(0,s.useState)(""),[i,a]=(0,s.useState)(400),[r,o]=(0,s.useState)(!0),[h,l]=(0,s.useState)("lerp"),d=(0,s.useMemo)(()=>({canvasSize:i,individualOptions:{animationsEnabled:r,animationType:h}}),[r,h,i]),u=(0,s.useRef)(new p({id:c,options:d})),g=t.split(" ");return(0,s.useEffect)(()=>{u.current.update(g)},[g]),(0,s.useEffect)(()=>{u.current.updateOptions(d)},[d]),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{value:t,onChange:t=>e(t.target.value),rows:5,style:{width:"100%"}}),(0,n.jsxs)("div",{className:"translator-controls",children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("span",{children:"Canvas size"}),(0,n.jsx)("input",{type:"range",name:"animation-group-progress",id:"animation-group-progress",value:i,onChange:t=>a(parseInt(t.target.value,10)),min:200,max:1e3})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("span",{children:"Animations enabled"}),(0,n.jsx)("input",{type:"checkbox",checked:r,onChange:()=>o(!r)})]}),(0,n.jsxs)("div",{className:"radio-input",children:[(0,n.jsx)("span",{children:"Animation type"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"animation-type",value:"lerp",checked:"lerp"===h,onChange:t=>l(t.target.value)}),"Linear"]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"animation-type",value:"slerp",checked:"slerp"===h,onChange:t=>l(t.target.value)}),"Ease-out-in"]})]})]}),(0,n.jsx)("div",{id:c,className:"cipher-stream"})]})};function m(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"T____X____T"}),(0,n.jsx)(g,{})]})}},1298:function(t,e,i){"use strict";i.d(e,{R:function(){return n}});class n{get degrees(){return this.value}get radians(){return n.DegreesToRadians(this.value)}static RadiansToDegrees(t){return 180*t/Math.PI}static DegreesToRadians(t){return t*(Math.PI/180)}constructor(t,e="DEGREES"){"DEGREES"===e?this.value=t:this.value=n.RadiansToDegrees(t)}}},5538:function(t,e,i){"use strict";i.d(e,{O:function(){return a},T:function(){return s}});var n=i(1950);let s={lerp:n.t7,slerp:n.ZA};class a{update(t){var e;if(0===this.parts.length)return;let i=function(t,e){let i=0,n=t.length-1;for(;i<=n;){let s=i+n>>1,a=e(t[s]);if(a>0)i=s+1;else{if(!(a<0))return s;n=s-1}}return -1}(this.parts,e=>e.start<=t&&e.end>=t?0:t-e.start);for(let t=0;t<i;t++)this.parts[t].update(1);let n=this.parts[i],s=(t-(e=n.start))/(n.end-e);n.update(s);for(let t=i+1;t<this.parts.length;t++)this.parts[t].update(0)}constructor(t,e){let i=t.reduce((t,e)=>t+e.weight,0),n=s[e],a=0;this.parts=t.map(t=>{let e=n(0,1,a/i),s=n(0,1,(a+t.weight)/i);return a+=t.weight,{...t,start:e,end:s}})}}},7250:function(t,e,i){"use strict";i.d(e,{E:function(){return n}});class n{get tuple(){return[this.x,this.y]}distanceTo(t){return Math.sqrt((t.x-this.x)**2+(t.y-this.y)**2)}constructor(t,e){this.x=t,this.y=e}}},1950:function(t,e,i){"use strict";i.d(e,{F8:function(){return p},GO:function(){return r},Li:function(){return h},Pl:function(){return c},ZA:function(){return u},an:function(){return a},eY:function(){return o},t7:function(){return l}});var n=i(1298),s=i(7250);let a=t=>t.toLowerCase().charCodeAt(0)-96,r=t=>{let{char:e,degrees:i=!1}=t,s=a(e);return i?360*s/26:n.R.DegreesToRadians(360*s/26)},o=t=>[...t.toLowerCase()].map(t=>r({char:t})),h=t=>{let e=new Date;return e.getTime()-t.getTime()},l=(t,e,i)=>t+i*(e-t),d=(t,e,i)=>l(t,e,i*i),u=(t,e,i)=>{let n=(e+t)/2;return i<=.5?d(t,n,2*i):e+n-d(n,e,2*(1-i))},p=(t,e,i,a)=>{let r=i+n.R.DegreesToRadians(90);return new s.E(t+Math.sin(r)*a,e-Math.cos(r)*a)},c=(t,e)=>e/(2*Math.PI)*(2*t*Math.PI)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);